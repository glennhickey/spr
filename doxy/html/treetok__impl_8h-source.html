<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SPR: treetok_impl.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">src</a></div>
<h1>treetok_impl.h</h1><a href="treetok__impl_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef _TREETOK_IMPL_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define _TREETOK_IMPL_H</span>
00003 <span class="preprocessor"></span>
00008 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00009"></a><a class="code" href="structTreeTok.html#a0">00009</a> <span class="keyword">inline</span> <a class="code" href="treetok_8h.html#a4">TTYPE</a> <a class="code" href="structTreeTok.html#a0">TreeTok&lt;T&gt;::myType</a>()<span class="keyword"> const </span>
00010 <span class="keyword"></span>{ 
00011   <span class="keywordflow">return</span> <a class="code" href="structTreeTok.html#o0">_val</a> == <a class="code" href="structTreeTok.html#s1">RBVal</a> ? <a class="code" href="treetok_8h.html#a4a1">RB</a> : <a class="code" href="structTreeTok.html#o0">_val</a> == <a class="code" href="structTreeTok.html#s0">LBVal</a> ? <a class="code" href="treetok_8h.html#a4a0">LB</a> : <a class="code" href="treetok_8h.html#a4a2">LEAF</a>; <span class="comment">//(TTYPE)_type;</span>
00012 }
00013 
00017 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00018"></a><a class="code" href="structTreeTok.html#a1">00018</a> <span class="keyword">inline</span> T <a class="code" href="structTreeTok.html#a1">TreeTok&lt;T&gt;::myLabel</a>()<span class="keyword"> const </span>
00019 <span class="keyword"></span>{
00020   assert(<a class="code" href="structTreeTok.html#a0">myType</a>() == <a class="code" href="treetok_8h.html#a4a2">LEAF</a>);
00021   <span class="keywordflow">return</span> <a class="code" href="structTreeTok.html#o0">_val</a>;
00022 }
00023 
00027 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00028"></a><a class="code" href="structTreeTok.html#a2">00028</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="structTreeTok.html#a2">TreeTok&lt;T&gt;::myFlag</a>()<span class="keyword"> const </span>
00029 <span class="keyword"></span>{
00030   <span class="keywordflow">return</span> static_cast&lt;bool&gt;(<a class="code" href="structTreeTok.html#o1">_flag</a>);
00031 }
00032 
00036 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00037"></a><a class="code" href="structTreeTok.html#a3">00037</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structTreeTok.html#a3">TreeTok&lt;T&gt;::setLB</a>() 
00038 {
00039   <span class="comment">//_type = LB;</span>
00040   <a class="code" href="structTreeTok.html#o0">_val</a> = <a class="code" href="structTreeTok.html#s0">LBVal</a>;
00041   <a class="code" href="structTreeTok.html#o1">_flag</a> = 0;
00042 }
00043 
00047 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00048"></a><a class="code" href="structTreeTok.html#a4">00048</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structTreeTok.html#a4">TreeTok&lt;T&gt;::setRB</a>() 
00049 {
00050 <span class="comment">//  _type = RB;</span>
00051   <a class="code" href="structTreeTok.html#o0">_val</a> = <a class="code" href="structTreeTok.html#s1">RBVal</a>;
00052   <a class="code" href="structTreeTok.html#o1">_flag</a> = 0;
00053 }
00054 
00058 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00059"></a><a class="code" href="structTreeTok.html#a5">00059</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structTreeTok.html#a5">TreeTok&lt;T&gt;::setLeaf</a>(T label) 
00060 {
00061   assert(label != <a class="code" href="structTreeTok.html#s0">LBVal</a> &amp;&amp; label != <a class="code" href="structTreeTok.html#s1">RBVal</a>);
00062 <span class="comment">//  _type = LEAF;</span>
00063   <a class="code" href="structTreeTok.html#o0">_val</a> = label;
00064   <a class="code" href="structTreeTok.html#o1">_flag</a> = 0;
00065 }
00066 
00070 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00071"></a><a class="code" href="structTreeTok.html#a6">00071</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structTreeTok.html#a6">TreeTok&lt;T&gt;::setFlag</a>(<span class="keywordtype">bool</span> flag) 
00072 {
00073   <a class="code" href="structTreeTok.html#o1">_flag</a> = static_cast&lt;T&gt;(flag);
00074 }
00075 
00080 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00081"></a><a class="code" href="structTreeTok.html#a7">00081</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structTreeTok.html#a7">TreeTok&lt;T&gt;::set</a>(<span class="keywordtype">char</span>* s) 
00082 {
00083   <span class="keywordflow">if</span> (s[0] == <span class="charliteral">'('</span>)
00084     <a class="code" href="structTreeTok.html#a3">setLB</a>();
00085   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s[0] == <span class="charliteral">')'</span>)
00086     <a class="code" href="structTreeTok.html#a4">setRB</a>();
00087   <span class="keywordflow">else</span>
00088     <a class="code" href="structTreeTok.html#a5">setLeaf</a>(atoi(s));
00089 }
00090 
00095 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00096"></a><a class="code" href="structTreeTok.html#a8">00096</a> <span class="keyword">inline</span> size_t <a class="code" href="structTreeTok.html#a8">TreeTok&lt;T&gt;::capacity</a>()<span class="keyword"> const</span>
00097 <span class="keyword"></span>{
00098   <span class="keywordflow">return</span> static_cast&lt;int&gt;(pow(2., static_cast&lt;double&gt;(<span class="keyword">sizeof</span>(T) * 8 - 1))) - 1;
00099 }
00100 
00104 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00105"></a><a class="code" href="treetok__impl_8h.html#a0">00105</a> std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const TreeTok&lt;T&gt; tok)
00106 {
00107   <a class="code" href="treetok_8h.html#a4">TTYPE</a> toktype = tok.myType();
00108   <span class="keywordflow">if</span> (toktype == <a class="code" href="treetok_8h.html#a4a0">LB</a>)
00109     os &lt;&lt; <span class="stringliteral">"("</span>;
00110   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (toktype == <a class="code" href="treetok_8h.html#a4a1">RB</a>)
00111     os &lt;&lt; <span class="stringliteral">")"</span>;
00112   <span class="keywordflow">else</span> 
00113     os &lt;&lt; static_cast&lt;size_t&gt;(tok.myLabel());
00114   <span class="keywordflow">return</span> os;
00115 }
00116 
00117 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Mon Oct 2 18:43:18 2006 for SPR by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
